---
# https://github.com/readthedocs/readthedocs.org/issues/4912
version: 2

build:
  os: ubuntu-22.04
  tools:
    python: "3.9"
  # jobs:
  #   post_create_environment:
  #     - pip install poetry
  #     - poetry config virtualenvs.create false
  #   post_install:
  #     - poetry install --with docs
  commands:
    - asdf plugin add poetry
    - asdf install poetry 1.3.1
    - asdf global poetry 1.3.1
    - poetry config virtualenvs.create false
    - poetry install --with docs
    - poetry run pdoc -d google --math -o _readthedocs/html/ arguebuf

formats: all
